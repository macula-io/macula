sequenceDiagram
    participant Client
    participant Mesh as Gateway Mesh
    participant Pool as Connection Pool<br/>(max 1,000)

    Client->>Mesh: get_or_create_connection(NodeId)
    Mesh->>Pool: Check size

    alt Pool has space (size < 1,000)
        Pool-->>Mesh: Create connection
        Mesh-->>Client: {ok, Conn}
    else Pool is full (size = 1,000)
        Pool->>Pool: Find LRU connection
        Pool->>Pool: Evict LRU connection
        Pool-->>Mesh: Create new connection
        Mesh-->>Client: {ok, Conn}
    end

    Note over Pool: Connections tracked by<br/>last access time<br/>(LRU = Least Recently Used)
