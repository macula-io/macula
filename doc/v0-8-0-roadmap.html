<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="macula v0.10.0">


    <title>Roadmap (v0.9.1 History + v0.10.0 Planning) — macula v0.10.0</title>

    <link rel="stylesheet" href="dist/html-erlang-DQDXQC7W.css" />

    <script defer src="dist/sidebar_items-074F6B0F.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="readme.html" class="sidebar-projectImage">
          <img src="assets/logo.svg" alt="macula" />
        </a>

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
macula
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.10.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of macula</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Macula Roadmap - Post-v0.9.1</h1>


      <a href="https://github.com/macula-io/macula/blob/0.10.0/architecture/v0.8.0-ROADMAP.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p><strong>Current Version</strong>: v0.9.1
<strong>This Document</strong>: Release history and future planning</p><hr class="thin"/><h2 id="release-history" class="section-heading"><a href="#release-history" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Release History</span></h2><h3 id="v0-9-1-2025-11-23-released" class="section-heading"><a href="#v0-9-1-2025-11-23-released" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">v0.9.1 (2025-11-23) - RELEASED</span></h3><p><strong>Theme</strong>: Test Coverage &amp; CRDTs</p><p><strong>What Shipped:</strong></p><ul><li>✅ Comprehensive test coverage for Platform Layer supervisor (8 tests)</li><li>✅ LWW-Register CRDT implementation with 14 comprehensive tests</li><li>✅ Foundation for future CRDT types (G-Counter, PN-Counter, OR-Set, LWW-Element-Set)</li></ul><h3 id="v0-9-0-2025-11-23-released" class="section-heading"><a href="#v0-9-0-2025-11-23-released" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">v0.9.0 (2025-11-23) - RELEASED</span></h3><p><strong>Theme</strong>: Platform Layer with Distributed Coordination</p><p><strong>What Shipped:</strong></p><ul><li>✅ Platform Layer architecture (3-tier: Workload → Platform → Infrastructure)</li><li>✅ Leader election via Ra (Raft consensus)</li><li>✅ Callback system for leadership changes</li><li>✅ Integration with macula_root supervision tree</li><li>✅ Production patterns from Khepri applied</li></ul><p><strong>Impact:</strong> Enabled distributed matchmaking, multi-tenant game servers, and single coordinator patterns across the mesh.</p><p><strong>The Pivot:</strong></p><p>v0.9.0 diverged from the original roadmap (NAT traversal, TLS, connection pooling) to solve a critical coordination problem: workload applications had no way to elect a single coordinator or share state across peers. This made distributed applications like matchmaking impossible.</p><p><strong>Rationale:</strong> Platform-layer coordination unlocked an entire class of distributed applications and proved more valuable than infrastructure optimizations. The original roadmap features (NAT traversal, TLS cert verification, connection pooling) remain valid but were deferred.</p><hr class="thin"/><h2 id="v0-10-0-planning-production-hardening" class="section-heading"><a href="#v0-10-0-planning-production-hardening" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">v0.10.0 Planning - Production Hardening</span></h2><p><strong>Target Release</strong>: Q1-Q2 2025
<strong>Status</strong>: PLANNING
<strong>Focus</strong>: Security, Performance, Reliability</p><h3 id="goals" class="section-heading"><a href="#goals" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Goals</span></h3><p>Make Macula production-ready by addressing infrastructure gaps deferred from v0.9.0:</p><ol><li><strong>Security Hardening</strong> - TLS certificate verification</li><li><strong>Performance Optimization</strong> - Connection pooling, batching, caching</li><li><strong>Reliability Improvements</strong> - Request/response patterns, retry logic</li><li><strong>Shared State</strong> - Platform-layer KV store or CRDT integration</li></ol><h3 id="proposed-features" class="section-heading"><a href="#proposed-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Proposed Features</span></h3><h4>1. Platform-Layer Shared State (NEW - High Priority)</h4><p><strong>Problem</strong>: Leader election solved single coordinator, but applications still need shared state across peers</p><p><strong>Options</strong> (choose one):</p><ol><li><p><strong>Integrate CRDTs</strong> - Build on v0.9.1's LWW-Register foundation</p><ul><li>Add G-Counter, PN-Counter, OR-Set, LWW-Element-Set</li><li>Replicate via DHT pub/sub</li><li>No strong consistency guarantees (eventual consistency)</li></ul></li><li><p><strong>Ra-backed KV Store</strong> - Raft consensus for shared state</p><ul><li>Strong consistency guarantees</li><li>Similar to Khepri's approach</li><li>Single Raft cluster limits scalability</li></ul></li></ol><p><strong>Effort</strong>: 3-4 weeks
<strong>Decision</strong>: TBD based on use case requirements</p><h4>2. TLS Certificate Verification (High Priority - Deferred from v0.9.0)</h4><p><strong>Problem</strong>: Currently using <code class="inline">{verify, none}</code> (security risk)</p><p><strong>Implementation</strong>:</p><ul><li>CA certificate bundle support</li><li>Certificate validation</li><li>Certificate pinning option</li><li>Configuration via application env</li></ul><p><strong>Effort</strong>: 1-2 weeks
<strong>Impact</strong>: Security (high)</p><h4>3. Connection Pooling (High Priority - Deferred from v0.9.0)</h4><p><strong>Problem</strong>: New connection per message creates overhead</p><p><strong>Implementation</strong>:</p><ul><li>LRU eviction policy</li><li>Max connections per pool (configurable)</li><li>TTL-based cleanup</li><li>Automatic reconnection</li></ul><p><strong>Effort</strong>: 2-3 weeks
<strong>Impact</strong>: 10x performance improvement for repeated operations</p><h4>4. Request/Response Pattern for DHT (Medium Priority - Deferred from v0.9.0)</h4><p><strong>Problem</strong>: Fire-and-forget provides no feedback</p><p><strong>Implementation</strong>:</p><ul><li>Correlation IDs</li><li>Response tracking with timeout</li><li>Retry logic</li></ul><p><strong>Effort</strong>: 2-3 weeks
<strong>Impact</strong>: Observability, reliability</p><h4>5. Performance Tuning (Medium Priority - Deferred from v0.9.0)</h4><p><strong>Optimizations</strong>:</p><ul><li>Adaptive delay tuning (currently fixed 100ms)</li><li>Batch DHT operations</li><li>DHT cache tuning</li><li>Message batching</li></ul><p><strong>Effort</strong>: 2-3 weeks
<strong>Impact</strong>: 2-3x throughput, 30-50% latency reduction</p><h4>6. Observability &amp; Metrics (Low Priority - Deferred from v0.9.0)</h4><p><strong>Implementation</strong>:</p><ul><li>Telemetry events for DHT, RPC, PubSub</li><li>Connection pool statistics</li><li>Health check endpoints</li><li>Prometheus/Grafana integration</li></ul><p><strong>Effort</strong>: 2 weeks
<strong>Impact</strong>: Operations visibility</p><hr class="thin"/><h2 id="beyond-v0-10-0" class="section-heading"><a href="#beyond-v0-10-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Beyond v0.10.0</span></h2><h3 id="nat-traversal-future-v0-11-0" class="section-heading"><a href="#nat-traversal-future-v0-11-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">NAT Traversal (Future - v0.11.0+)</span></h3><p><strong>Deferred Reason</strong>: Current gateway relay provides 100% connectivity. NAT hole punching would improve from 0% direct P2P to 80% direct, reducing relay load.</p><p><strong>When to Prioritize</strong>:</p><ul><li>Relay costs become prohibitive</li><li>Direct P2P latency critical for use case</li><li>Edge deployment with limited WAN bandwidth</li></ul><p><strong>See</strong>: <code class="inline">architecture/NAT_TRAVERSAL_ROADMAP.md</code> for detailed design</p><p><strong>Effort</strong>: 6-8 weeks</p><h3 id="subsystem-refactoring-future-if-needed" class="section-heading"><a href="#subsystem-refactoring-future-if-needed" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Subsystem Refactoring (Future - If Needed)</span></h3><p><strong>Deferred Reason</strong>: Current architecture works well. Refactoring is architectural cleanup, not critical.</p><p><strong>When to Reconsider</strong>:</p><ul><li>Deploying dedicated bootstrap nodes</li><li>Relay logic becomes complex</li><li>Separation of concerns becomes important</li></ul><p><strong>See</strong>: <code class="inline">architecture/V0.8.0_IMPLEMENTATION_ROADMAP.md</code> for original plan</p><p><strong>Effort</strong>: 4 weeks</p><hr class="thin"/><h2 id="development-priorities-v0-10-0" class="section-heading"><a href="#development-priorities-v0-10-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Development Priorities (v0.10.0)</span></h2><h3 id="phase-1-planning-design-weeks-1-2" class="section-heading"><a href="#phase-1-planning-design-weeks-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 1: Planning &amp; Design (Weeks 1-2)</span></h3><ul><li>Decide on shared state approach (CRDT vs Ra KV)</li><li>Design APIs and integration patterns</li><li>Review security requirements</li></ul><h3 id="phase-2-shared-state-weeks-3-6" class="section-heading"><a href="#phase-2-shared-state-weeks-3-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 2: Shared State (Weeks 3-6)</span></h3><ul><li>Implement chosen shared state solution</li><li>Integration tests</li><li>Documentation</li></ul><h3 id="phase-3-security-weeks-7-9" class="section-heading"><a href="#phase-3-security-weeks-7-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 3: Security (Weeks 7-9)</span></h3><ul><li>TLS certificate verification</li><li>Certificate pinning</li><li>Security audit</li></ul><h3 id="phase-4-performance-weeks-10-14" class="section-heading"><a href="#phase-4-performance-weeks-10-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 4: Performance (Weeks 10-14)</span></h3><ul><li>Connection pooling</li><li>Batch operations</li><li>Performance benchmarking</li></ul><h3 id="phase-5-reliability-weeks-15-17" class="section-heading"><a href="#phase-5-reliability-weeks-15-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 5: Reliability (Weeks 15-17)</span></h3><ul><li>Request/response DHT pattern</li><li>Retry logic</li><li>Error handling improvements</li></ul><h3 id="phase-6-observability-weeks-18-19" class="section-heading"><a href="#phase-6-observability-weeks-18-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 6: Observability (Weeks 18-19)</span></h3><ul><li>Telemetry integration</li><li>Metrics endpoints</li><li>Dashboards</li></ul><h3 id="phase-7-polish-weeks-20-22" class="section-heading"><a href="#phase-7-polish-weeks-20-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Phase 7: Polish (Weeks 20-22)</span></h3><ul><li>Documentation</li><li>Tutorial updates</li><li>Release preparation</li></ul><hr class="thin"/><h2 id="success-criteria-v0-10-0" class="section-heading"><a href="#success-criteria-v0-10-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Success Criteria (v0.10.0)</span></h2><h3 id="functionality" class="section-heading"><a href="#functionality" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Functionality</span></h3><ul><li>✅ Shared state available across mesh (CRDT or Ra KV)</li><li>✅ Applications can coordinate beyond leader election</li></ul><h3 id="security" class="section-heading"><a href="#security" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Security</span></h3><ul><li>✅ TLS certificate verification enabled by default</li><li>✅ Certificate pinning option available</li><li>✅ Security audit passed</li></ul><h3 id="performance" class="section-heading"><a href="#performance" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Performance</span></h3><ul><li>✅ 10x improvement in repeated P2P operations (connection pooling)</li><li>✅ 2-3x throughput increase (batching + tuning)</li></ul><h3 id="reliability" class="section-heading"><a href="#reliability" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Reliability</span></h3><ul><li>✅ 100% test coverage maintained</li><li>✅ DHT operation confirmation available</li><li>✅ Retry logic for failed operations</li></ul><h3 id="observability" class="section-heading"><a href="#observability" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Observability</span></h3><ul><li>✅ Comprehensive metrics available</li><li>✅ Integration with Prometheus</li><li>✅ Sample Grafana dashboards</li></ul><hr class="thin"/><h2 id="breaking-changes-v0-10-0" class="section-heading"><a href="#breaking-changes-v0-10-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Breaking Changes (v0.10.0)</span></h2><p><strong>Possible</strong>:</p><ul><li>TLS verification enabled by default (may require configuration)</li><li>Connection pool configuration (optional)</li><li>Shared state API (new feature)</li></ul><p><strong>Mitigation</strong>:</p><ul><li>Feature flags for gradual rollout</li><li>Backward compatibility mode</li><li>Clear migration guide</li></ul><hr class="thin"/><h2 id="community-feedback" class="section-heading"><a href="#community-feedback" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Community Feedback</span></h2><p>We welcome feedback on this roadmap!</p><p><strong>Questions</strong>:</p><ul><li>Which shared state approach fits your use case? (CRDT vs Ra KV)</li><li>Is NAT traversal critical for your deployment?</li><li>What performance metrics matter most?</li></ul><p><strong>How to Provide Feedback</strong>:</p><ul><li>GitHub Issues: <a href="https://github.com/macula-io/macula/issues">https://github.com/macula-io/macula/issues</a></li><li>GitHub Discussions: <a href="https://github.com/macula-io/macula/discussions">https://github.com/macula-io/macula/discussions</a></li></ul><hr class="thin"/><h2 id="references" class="section-heading"><a href="#references" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">References</span></h2><ul><li><strong>CHANGELOG</strong>: <code class="inline">CHANGELOG.md</code> (detailed release notes)</li><li><strong>NAT Traversal Design</strong>: <code class="inline">architecture/NAT_TRAVERSAL_ROADMAP.md</code></li><li><strong>Platform Vision</strong>: <code class="inline">architecture/PLATFORM_VISION.md</code></li><li><strong>Current Architecture</strong>: <code class="inline">architecture/v0.8.0-ARCHITECTURE.md</code></li><li><strong>Known Issues</strong>: <code class="inline">TODO.md</code></li></ul><hr class="thin"/><p><strong>Document Version</strong>: 2.0
<strong>Last Updated</strong>: 2025-11-23
<strong>Next Review</strong>: After v0.10.0 planning complete</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="v0-8-0-changelog.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
v0.8.0 Detailed Changelog
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="v1-0-0-roadmap.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
v1.0.0 Roadmap
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/macula/0.10.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/macula/0.10.0">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/macula/0.10.0/show/architecture/v0.8.0-ROADMAP.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="macula.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
