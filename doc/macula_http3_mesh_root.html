<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="macula v0.7.13">


    <title>Architecture ‚Äî macula v0.7.13</title>

    <link rel="stylesheet" href="dist/html-erlang-DQDXQC7W.css" />

    <script defer src="dist/sidebar_items-BEDF5EBA.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="hello_world.html" class="sidebar-projectImage">
          <img src="assets/logo.svg" alt="macula" />
        </a>

      <div>
        <a href="hello_world.html" class="sidebar-projectName" translate="no">
macula
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.7.13
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of macula</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Macula HTTP/3 Mesh - Documentation Root</h1>


      <a href="https://github.com/macula-io/macula/blob/0.7.13/architecture/macula_http3_mesh_root.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p><strong>A distributed mesh networking platform for BEAM, built on HTTP/3/QUIC</strong></p><hr class="thin"/><h2 id="vision" class="section-heading"><a href="#vision" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Vision</span></h2><p>Build a unique, standards-based distributed networking layer for Erlang/Elixir applications that:</p><ul><li>Uses HTTP/3 (QUIC) for NAT-friendly, firewall-friendly transport</li><li>Forms self-organizing mesh topologies at the edge</li><li>Provides pub/sub and RPC primitives</li><li>Scales to thousands of nodes</li><li>Supports multi-tenancy and realm isolation</li><li>Delivers &quot;Wow! How do they do it?&quot; factor</li></ul><p><strong>Target Use Cases</strong>:</p><ul><li>Edge-first IoT networks</li><li>Decentralized energy trading platforms</li><li>Multi-tenant SaaS applications</li><li>Partner data exchange networks</li><li>Hybrid cloud-edge systems</li></ul><hr class="thin"/><h2 id="documentation-index" class="section-heading"><a href="#documentation-index" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Documentation Index</span></h2><h3 id="core-architecture-documents" class="section-heading"><a href="#core-architecture-documents" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Core Architecture Documents</span></h3><h4>1. <a href="macula_http3_mesh_roadmap.html">Technical Roadmap</a> ‚≠ê <strong>START HERE</strong></h4><p><strong>20-week implementation plan with detailed technical specifications</strong></p><p><strong>Contents</strong>:</p><ul><li>Understanding QUIC and HTTP/3 (protocol deep dive)</li><li>QUIC/HTTP/3 libraries for BEAM (comparison matrix)</li><li>Complete 5-layer architecture</li><li>Phase-by-phase implementation (Weeks 1-20)</li><li>Code examples for each phase</li><li>Success criteria and benchmarks</li><li>Technical deep dives (QUIC vs TCP, SWIM gossip, Kademlia DHT)</li></ul><p><strong>Who should read this</strong>: Engineers implementing the platform, technical leads evaluating feasibility</p><p><strong>Key decisions documented</strong>:</p><ul><li>QUIC library choice: <strong>quicer</strong> (Erlang NIF wrapper for MsQuic)</li><li>Topology: <strong>k-regular graph</strong> with SWIM gossip</li><li>Routing: <strong>Kademlia DHT</strong> (O(log N) lookups)</li><li>NAT traversal: <strong>STUN/ICE + UDP hole punching</strong></li></ul><hr class="thin"/><h4>2. <a href="macula_http3_mesh_c4_diagrams.md">C4 Architecture Diagrams</a></h4><p><strong>Multi-level architecture visualization using C4 model</strong></p><p><strong>Contents</strong>:</p><ul><li><strong>Level 1 - System Context</strong>: Ecosystem view (developers, nodes, infrastructure)</li><li><strong>Level 2 - Container</strong>: Technology stack, BEAM VM internals</li><li><strong>Level 3 - Component</strong>: Mesh Services and Protocol Layer components</li><li><strong>Level 4 - Code</strong>: Detailed <code class="inline">macula_connection</code> GenServer implementation</li><li><strong>Supplementary - Deployment</strong>: Physical deployment scenarios</li></ul><p><strong>Who should read this</strong>: Architects, new team members, stakeholders wanting visual overview</p><p><strong>Diagram formats</strong>: ASCII (easy to view in terminal, version control friendly)</p><hr class="thin"/><h4>3. <a href="macula_http3_mesh_isolation_mechanisms.md">Isolation Mechanisms</a></h4><p><strong>Multi-tenancy, realms, and cross-realm communication</strong></p><p><strong>Contents</strong>:</p><ul><li>Realm concept and namespacing</li><li>Identity layer (node-level realm membership)</li><li>Topic namespacing and validation</li><li>Routing table partitioning by realm</li><li>Three cross-realm communication models:<ul><li><strong>Model A: Gateway Nodes</strong> (recommended)</li><li><strong>Model B: Federation Protocol</strong></li><li><strong>Model C: Strict Isolation</strong></li></ul></li><li>Protocol-level realm support</li><li>SWIM membership per realm</li><li>Pub/sub with realm scoping</li><li>Certificate-based security</li><li>Use cases (SaaS, energy markets, IoT, partners)</li><li>Implementation roadmap (Weeks 21-27)</li></ul><p><strong>Who should read this</strong>: SaaS platform engineers, security architects, multi-tenant deployment teams</p><p><strong>Key features</strong>:</p><ul><li>Isolation by default</li><li>Policy-based gateways for controlled data sharing</li><li>Certificate validation with realm in SAN</li><li>ACL enforcement</li><li>Audit logging</li></ul><hr class="thin"/><h4>4. <a href="macula_http3_mesh_module_dependencies.md">Module Dependencies and Architecture</a> ‚≠ê</h4><p><strong>How the pieces fit together: From QUIC to your application</strong></p><p><strong>Contents</strong>:</p><ul><li><strong>Layered architecture diagram</strong> - Visual representation of all components</li><li><strong>Module responsibilities</strong> - What each component does and why</li><li><strong>Message flow examples</strong> - Follow an RPC call and pub/sub message through the stack</li><li><strong>The philosophy</strong> - Gateway as &quot;dumb transport&quot; vs RPC/PubSub as &quot;smart orchestration&quot;</li><li><strong>Current implementation status</strong> - What works, what's in progress, what's planned</li></ul><p><strong>Who should read this</strong>: All developers working on Macula, architects understanding the system</p><p><strong>Key insight</strong>: Macula separates transport concerns (gateway) from business logic (RPC/PubSub servers), similar to how nginx handles HTTP routing while your application handles business logic. This separation enables independent evolution, testing, and scaling of each layer.</p><p><strong>Why this matters</strong>: Understanding the layered architecture prevents confusion about where functionality belongs. For example, topic pattern matching belongs in <code class="inline">macula_pubsub_server</code> (business logic), not <code class="inline">macula_gateway</code> (transport).</p><hr class="thin"/><h3 id="quick-start-guides" class="section-heading"><a href="#quick-start-guides" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Quick Start Guides</span></h3><h4>5. <a href="macula_http3_mesh_quick_start.html">Quick Start Guide</a> üöÄ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Get a 3-node mesh running in 15 minutes</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Prerequisites (Erlang/OTP 26+, quicer installation)</li><li>Download and build Macula</li><li>Start first node</li><li>Start and join second node</li><li>Start and join third node</li><li>Send first pub/sub message</li><li>Make first RPC call</li><li>Verify mesh topology</li><li>Common troubleshooting</li></ul><p><strong>Target audience</strong>: Developers wanting hands-on experience</p><hr class="thin"/><h4>6. <a href="macula_http3_mesh_hello_world.html">Hello World Tutorial</a> üìö ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Build your first Macula application</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Create new Elixir/Mix project</li><li>Add Macula dependency</li><li>Configure node identity and realm</li><li>Implement simple pub/sub chat application</li><li>Deploy across multiple nodes</li><li>Add RPC endpoint (echo service)</li><li>Monitor with Observer</li></ul><p><strong>Target audience</strong>: Application developers new to Macula</p><hr class="thin"/><h3 id="api-and-protocol-specifications" class="section-heading"><a href="#api-and-protocol-specifications" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">API and Protocol Specifications</span></h3><h4>7. <a href="macula_http3_mesh_protocol_spec.md">Wire Protocol Specification</a> üìã ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Complete wire protocol documentation</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Packet format and framing</li><li>Message types (handshake, heartbeat, send, pub, sub, rpc, etc.)</li><li>Encoding/decoding rules (Erlang term format)</li><li>Handshake protocol flow</li><li>Stream multiplexing</li><li>Error handling</li><li>Protocol versioning</li><li>Compatibility matrix</li></ul><p><strong>Target audience</strong>: Protocol implementers, interoperability teams</p><hr class="thin"/><h4>8. <a href="macula_http3_mesh_api_reference.md">API Reference</a> üìñ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Complete Erlang/Elixir API documentation</strong></p><p><strong>Planned contents</strong>:</p><ul><li><code class="inline">macula:start/1</code> - Start node</li><li><code class="inline">macula:connect/2</code> - Connect to peer</li><li><code class="inline">macula:publish/2,3</code> - Publish message</li><li><code class="inline">macula:subscribe/1,2</code> - Subscribe to topic</li><li><code class="inline">macula:call/3,4</code> - RPC call</li><li><code class="inline">macula:register/2</code> - Register RPC endpoint</li><li>Gateway APIs</li><li>Policy configuration APIs</li><li>Metrics and monitoring APIs</li></ul><p><strong>Target audience</strong>: Application developers</p><hr class="thin"/><h3 id="advanced-topics" class="section-heading"><a href="#advanced-topics" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Advanced Topics</span></h3><h4>9. <a href="macula_http3_mesh_nat_traversal.md">NAT Traversal Deep Dive</a> üåê ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>How Macula works behind NATs and firewalls</strong></p><p><strong>Planned contents</strong>:</p><ul><li>NAT types and challenges (full cone, symmetric, etc.)</li><li>STUN protocol for public IP discovery</li><li>ICE protocol for connectivity establishment</li><li>UDP hole punching techniques</li><li>TURN relay fallback</li><li>Connection migration on IP change</li><li>Mobile/cellular network considerations</li><li>Enterprise firewall traversal</li></ul><p><strong>Target audience</strong>: Network engineers, DevOps, deployment teams</p><hr class="thin"/><h4>10. <a href="macula_http3_mesh_security.md">Security Model</a> üîí ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Comprehensive security architecture</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Threat model</li><li>TLS 1.3 integration with QUIC</li><li>Certificate-based node authentication</li><li>Realm isolation via certificates</li><li>ACL enforcement</li><li>Message signing and verification</li><li>Audit logging</li><li>Denial-of-service protection</li><li>Rate limiting</li><li>Security best practices</li><li>Penetration testing results</li></ul><p><strong>Target audience</strong>: Security teams, compliance officers, architects</p><hr class="thin"/><h4>11. <a href="macula_http3_mesh_performance.md">Performance Tuning Guide</a> ‚ö° ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Optimize for throughput and latency</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Benchmarking methodology</li><li>OS-level tuning (UDP buffers, file descriptors)</li><li>BEAM VM tuning (schedulers, memory)</li><li>QUIC connection parameters</li><li>Stream multiplexing configuration</li><li>Routing table optimization</li><li>SWIM protocol tuning</li><li>Gateway throughput optimization</li><li>Monitoring and profiling tools</li><li>Load testing scenarios</li></ul><p><strong>Target audience</strong>: Performance engineers, SREs</p><hr class="thin"/><h4>12. <a href="macula_http3_mesh_observability.md">Observability Guide</a> üìä ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Monitor, trace, and debug Macula networks</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Prometheus metrics (all available metrics)</li><li>Grafana dashboards (pre-built templates)</li><li>OpenTelemetry tracing integration</li><li>Log aggregation (structured logging)</li><li>Mesh topology visualization</li><li>Real-time message flow visualization</li><li>Health checks and alerts</li><li>Debugging tools (observer, recon, etc.)</li><li>Common issues and diagnostics</li></ul><p><strong>Target audience</strong>: SREs, DevOps, operations teams</p><hr class="thin"/><h4>13. <a href="macula_http3_mesh_deployment_patterns.md">Deployment Patterns</a> üöÄ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Production deployment architectures</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Single-region mesh</li><li>Multi-region with gateways</li><li>Hybrid cloud-edge</li><li>Kubernetes deployment (Helm charts)</li><li>Docker Compose examples</li><li>Bare metal / VM deployment</li><li>DNS/discovery configuration</li><li>Load balancing strategies</li><li>High availability patterns</li><li>Disaster recovery</li><li>Migration strategies (zero-downtime updates)</li></ul><p><strong>Target audience</strong>: DevOps, platform engineers, architects</p><hr class="thin"/><h4>14. <a href="macula_http3_mesh_gateway_ops.md">Gateway Operations Manual</a> üåâ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Deploy and operate gateway nodes</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Gateway node requirements</li><li>Policy configuration (YAML/JSON schemas)</li><li>Topic translation setup</li><li>Rate limiting configuration</li><li>Audit log management</li><li>Certificate management for gateways</li><li>High availability setup (active-active)</li><li>Monitoring gateway health</li><li>Troubleshooting cross-realm issues</li><li>Performance optimization</li><li>Security hardening</li></ul><p><strong>Target audience</strong>: Gateway operators, platform admins</p><hr class="thin"/><h3 id="comparisons-and-design-decisions" class="section-heading"><a href="#comparisons-and-design-decisions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Comparisons and Design Decisions</span></h3><h4>15. <a href="macula_http3_mesh_vs_distributed_erlang.md">Macula vs Distributed Erlang</a> ‚≠ê</h4><p><strong>Does Macula augment or replace Distributed Erlang?</strong></p><p><strong>Answer</strong>: Macula <strong>replaces</strong> Distributed Erlang for internet-scale, multi-tenant scenarios.</p><p><strong>Contents</strong>:</p><ul><li><strong>The key differences</strong> - Security, network assumptions, multi-tenancy, scalability</li><li><strong>Architectural comparison</strong> - Cookie-based mesh vs TLS-based selective connectivity</li><li><strong>When to use each</strong> - Tightly-coupled clusters (disterl) vs loosely-coupled services (Macula)</li><li><strong>Code comparison</strong> - Side-by-side examples showing explicit vs implicit communication</li><li><strong>Hybrid approach</strong> - Can you use both? (Yes, with gateways between data centers)</li><li><strong>Migration path</strong> - Moving from disterl to Macula incrementally</li></ul><p><strong>Who should read this</strong>: Teams familiar with Distributed Erlang, architects deciding between approaches</p><p><strong>Key takeaway</strong>: Distributed Erlang excels at &lt;50 node, single-datacenter, fully-trusted clusters. Macula excels at 100s-1000s of nodes across the internet with realm isolation and NAT traversal. They solve different problems.</p><hr class="thin"/><h4>16. <a href="macula_http3_mesh_vs_wamp.md">Comparison with WAMP/Bondy</a> üîÑ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Why build Macula when WAMP exists?</strong></p><p><strong>Planned contents</strong>:</p><ul><li>WAMP strengths and weaknesses</li><li>Why WAMP over WebSocket doesn't work well for edge</li><li>NAT traversal comparison</li><li>Bondy clustering (Partisan) vs Macula mesh</li><li>Protocol overhead comparison</li><li>Latency and throughput benchmarks</li><li>When to use WAMP/Bondy vs Macula</li><li>Migration path from WAMP to Macula</li><li>Interoperability (WAMP compatibility layer)</li></ul><p><strong>Target audience</strong>: Teams familiar with WAMP, decision makers</p><hr class="thin"/><h4>17. <a href="macula_http3_mesh_vs_libp2p.md">Comparison with libp2p</a> üîÑ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Macula vs libp2p (IPFS networking stack)</strong></p><p><strong>Planned contents</strong>:</p><ul><li>libp2p architecture overview</li><li>BEAM libp2p implementations (ex_libp2p)</li><li>Why not use libp2p?<ul><li>Complexity</li><li>Maturity in BEAM ecosystem</li><li>Distributed Erlang incompatibility</li></ul></li><li>Protocol comparison (QUIC, GossipSub, Kademlia)</li><li>Use case fit analysis</li><li>Performance comparison</li></ul><p><strong>Target audience</strong>: P2P networking engineers, architects</p><hr class="thin"/><h4>18. <a href="macula_http3_mesh_decisions.md">Design Decision Log</a> üìù ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Why we made the choices we did</strong></p><p><strong>Planned contents</strong>:</p><ul><li>ADR 001: Why QUIC instead of TCP?</li><li>ADR 002: Why quicer (MsQuic) instead of pure Erlang?</li><li>ADR 003: Why Kademlia instead of Chord/Pastry?</li><li>ADR 004: Why SWIM instead of Raft for membership?</li><li>ADR 005: Why k-regular graph instead of full mesh?</li><li>ADR 006: Why gateway pattern for cross-realm?</li><li>ADR 007: Why certificate-based auth instead of API keys?</li><li>ADR 008: Why UDP hole punching instead of TURN-only?</li></ul><p><strong>Format</strong>: Architecture Decision Records (ADRs)</p><p><strong>Target audience</strong>: Architects, long-term maintainers</p><hr class="thin"/><h3 id="reference-materials" class="section-heading"><a href="#reference-materials" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Reference Materials</span></h3><h4>19. <a href="macula_http3_mesh_glossary.md">Glossary</a> üìñ ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Terms and definitions</strong></p><p><strong>Planned contents</strong>:</p><ul><li>QUIC, HTTP/3, UDP, DTLS, TLS 1.3</li><li>Mesh, topology, k-regular graph</li><li>SWIM, gossip, failure detection</li><li>Kademlia, DHT, XOR distance</li><li>Realm, tenant, gateway</li><li>Pub/sub, RPC, stream</li><li>NAT, STUN, ICE, TURN, hole punching</li><li>Connection migration, 0-RTT</li><li>ACL, policy, audit</li></ul><p><strong>Target audience</strong>: Everyone (reference)</p><hr class="thin"/><h4>20. <a href="macula_http3_mesh_faq.md">FAQ</a> ‚ùì ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Frequently asked questions</strong></p><p><strong>Planned contents</strong>:</p><ul><li>What is Macula?</li><li>Why HTTP/3 instead of traditional distributed Erlang?</li><li>Can it work behind NAT?</li><li>How many nodes can it scale to?</li><li>What's the latency overhead?</li><li>Is it production-ready?</li><li>How does it compare to X? (where X = WAMP, libp2p, Partisan, gRPC, etc.)</li><li>Can I use it with Phoenix/LiveView?</li><li>Does it work in Kubernetes?</li><li>What license is it?</li></ul><p><strong>Target audience</strong>: Everyone (first questions)</p><hr class="thin"/><h4>21. <a href="macula_http3_mesh_troubleshooting.md">Troubleshooting Guide</a> üîß ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>Common issues and solutions</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Nodes can't discover each other</li><li>Connection timeout / handshake failure</li><li>NAT traversal failures</li><li>Certificate validation errors</li><li>SWIM membership flapping</li><li>Routing table inconsistencies</li><li>Gateway policy denials</li><li>Performance issues (high latency, low throughput)</li><li>Memory leaks</li><li>Crash dumps analysis</li></ul><p><strong>Format</strong>: Problem ‚Üí Diagnosis ‚Üí Solution</p><p><strong>Target audience</strong>: Operations, support teams</p><hr class="thin"/><h3 id="contributing-and-community" class="section-heading"><a href="#contributing-and-community" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Contributing and Community</span></h3><h4>22. <a href="macula_http3_mesh_contributing.html">Contributing Guide</a> ü§ù ‚ö†Ô∏è <strong>TODO</strong></h4><p><strong>How to contribute to Macula</strong></p><p><strong>Planned contents</strong>:</p><ul><li>Code of conduct</li><li>Development setup</li><li>Testing requirements (unit, integration, property-based)</li><li>Code style guide (Erlang/Elixir conventions)</li><li>Documentation requirements</li><li>Pull request process</li><li>Release process</li><li>Community channels (Discord, mailing list, etc.)</li><li>Roadmap and feature requests</li></ul><p><strong>Target audience</strong>: Contributors, open source community</p><hr class="thin"/><h2 id="document-status" class="section-heading"><a href="#document-status" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Document Status</span></h2><table><thead><tr><th style="text-align: left;">Document</th><th style="text-align: left;">Status</th><th style="text-align: left;">Priority</th><th style="text-align: left;">Target Week</th></tr></thead><tbody><tr><td style="text-align: left;">Technical Roadmap</td><td style="text-align: left;">‚úÖ Complete</td><td style="text-align: left;">P0</td><td style="text-align: left;">Week 0</td></tr><tr><td style="text-align: left;">C4 Diagrams</td><td style="text-align: left;">‚úÖ Complete</td><td style="text-align: left;">P0</td><td style="text-align: left;">Week 0</td></tr><tr><td style="text-align: left;">Isolation Mechanisms</td><td style="text-align: left;">‚úÖ Complete</td><td style="text-align: left;">P0</td><td style="text-align: left;">Week 0</td></tr><tr><td style="text-align: left;">Module Dependencies</td><td style="text-align: left;">‚úÖ Complete</td><td style="text-align: left;">P0</td><td style="text-align: left;">Week 0</td></tr><tr><td style="text-align: left;">Macula vs Distributed Erlang</td><td style="text-align: left;">‚úÖ Complete</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 0</td></tr><tr><td style="text-align: left;">Quick Start Guide</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 4</td></tr><tr><td style="text-align: left;">Hello World Tutorial</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 4</td></tr><tr><td style="text-align: left;">Wire Protocol Spec</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 8</td></tr><tr><td style="text-align: left;">API Reference</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 12</td></tr><tr><td style="text-align: left;">NAT Traversal Deep Dive</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 12</td></tr><tr><td style="text-align: left;">Security Model</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 16</td></tr><tr><td style="text-align: left;">Performance Tuning</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 20</td></tr><tr><td style="text-align: left;">Observability Guide</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 20</td></tr><tr><td style="text-align: left;">Deployment Patterns</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 20</td></tr><tr><td style="text-align: left;">Gateway Operations</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 24</td></tr><tr><td style="text-align: left;">Comparison with WAMP</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 8</td></tr><tr><td style="text-align: left;">Comparison with libp2p</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P3</td><td style="text-align: left;">Week 12</td></tr><tr><td style="text-align: left;">Design Decision Log</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Ongoing</td></tr><tr><td style="text-align: left;">Glossary</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 4</td></tr><tr><td style="text-align: left;">FAQ</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P1</td><td style="text-align: left;">Week 4</td></tr><tr><td style="text-align: left;">Troubleshooting Guide</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 20</td></tr><tr><td style="text-align: left;">Contributing Guide</td><td style="text-align: left;">‚ö†Ô∏è TODO</td><td style="text-align: left;">P2</td><td style="text-align: left;">Week 4</td></tr></tbody></table><p><strong>Priority Levels</strong>:</p><ul><li><strong>P0</strong>: Must have before any code (architecture)</li><li><strong>P1</strong>: Required for MVP release</li><li><strong>P2</strong>: Important for production use</li><li><strong>P3</strong>: Nice to have</li></ul><hr class="thin"/><h2 id="reading-paths" class="section-heading"><a href="#reading-paths" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Reading Paths</span></h2><h3 id="for-evaluators-decision-makers" class="section-heading"><a href="#for-evaluators-decision-makers" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">For Evaluators (Decision Makers)</span></h3><ol><li>This document (overview)</li><li><a href="macula_http3_mesh_roadmap.html">Technical Roadmap</a> - Sections: Vision, Architecture Overview, Timeline</li><li><a href="macula_http3_mesh_c4_diagrams.md">C4 Diagrams</a> - Level 1 and Level 2</li><li><a href="macula_http3_mesh_isolation_mechanisms.md">Isolation Mechanisms</a> - Use Cases section</li></ol><p><strong>Time</strong>: ~1 hour</p><hr class="thin"/><h3 id="for-architects-system-design" class="section-heading"><a href="#for-architects-system-design" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">For Architects (System Design)</span></h3><ol><li><a href="macula_http3_mesh_roadmap.html">Technical Roadmap</a> - Complete read</li><li><a href="macula_http3_mesh_c4_diagrams.md">C4 Diagrams</a> - All levels</li><li><a href="macula_http3_mesh_module_dependencies.md">Module Dependencies</a> - Understand the layers</li><li><a href="macula_http3_mesh_isolation_mechanisms.md">Isolation Mechanisms</a> - Complete read</li><li><a href="macula_http3_mesh_vs_distributed_erlang.md">Macula vs Distributed Erlang</a> - Architectural trade-offs</li><li><a href="macula_http3_mesh_nat_traversal.md">NAT Traversal Deep Dive</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_security.md">Security Model</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_decisions.md">Design Decision Log</a> ‚ö†Ô∏è TODO</li></ol><p><strong>Time</strong>: ~5 hours</p><hr class="thin"/><h3 id="for-implementers-engineers" class="section-heading"><a href="#for-implementers-engineers" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">For Implementers (Engineers)</span></h3><ol><li><a href="macula_http3_mesh_module_dependencies.md">Module Dependencies</a> - Understand where code belongs</li><li><a href="macula_http3_mesh_roadmap.html">Technical Roadmap</a> - Focus on code examples</li><li><a href="macula_http3_mesh_protocol_spec.md">Wire Protocol Spec</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_api_reference.md">API Reference</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_quick_start.html">Quick Start Guide</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_hello_world.html">Hello World Tutorial</a> ‚ö†Ô∏è TODO</li></ol><p><strong>Time</strong>: ~3 hours + hands-on</p><hr class="thin"/><h3 id="for-operators-devops-sre" class="section-heading"><a href="#for-operators-devops-sre" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">For Operators (DevOps/SRE)</span></h3><ol><li><a href="macula_http3_mesh_quick_start.html">Quick Start Guide</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_deployment_patterns.md">Deployment Patterns</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_observability.md">Observability Guide</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_performance.md">Performance Tuning</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_troubleshooting.md">Troubleshooting Guide</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_gateway_ops.md">Gateway Operations</a> ‚ö†Ô∏è TODO</li></ol><p><strong>Time</strong>: ~2 hours + practice</p><hr class="thin"/><h3 id="for-security-teams" class="section-heading"><a href="#for-security-teams" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">For Security Teams</span></h3><ol><li><a href="macula_http3_mesh_security.md">Security Model</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_isolation_mechanisms.md">Isolation Mechanisms</a> - Security sections</li><li><a href="macula_http3_mesh_nat_traversal.md">NAT Traversal Deep Dive</a> ‚ö†Ô∏è TODO</li><li><a href="macula_http3_mesh_gateway_ops.md">Gateway Operations</a> ‚ö†Ô∏è TODO - Security hardening</li></ol><p><strong>Time</strong>: ~3 hours</p><hr class="thin"/><h2 id="additional-topics-to-document" class="section-heading"><a href="#additional-topics-to-document" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Additional Topics to Document</span></h2><p>Based on the comprehensive nature of this project, here are <strong>additional topics</strong> that should be documented:</p><h3 id="21-testing-strategy" class="section-heading"><a href="#21-testing-strategy" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">21. Testing Strategy üß™</span></h3><p><strong>Comprehensive testing approach</strong></p><p><strong>Contents</strong>:</p><ul><li>Unit testing (EUnit, ExUnit)</li><li>Property-based testing (PropEr, StreamData)</li><li>Integration testing (multi-node scenarios)</li><li>Chaos engineering (partition testing, node crashes)</li><li>Load testing (Tsung, k6)</li><li>Security testing (penetration testing)</li><li>Fuzz testing (protocol fuzzing)</li><li>Continuous integration setup</li></ul><hr class="thin"/><h3 id="22-migration-guide" class="section-heading"><a href="#22-migration-guide" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">22. Migration Guide üîÑ</span></h3><p><strong>Moving from other systems to Macula</strong></p><p><strong>Contents</strong>:</p><ul><li>Migrating from WAMP/Bondy</li><li>Migrating from distributed Erlang</li><li>Migrating from RabbitMQ/Kafka</li><li>Migrating from gRPC</li><li>Co-existence strategies (gradual migration)</li><li>Data migration patterns</li><li>Rollback procedures</li></ul><hr class="thin"/><h3 id="23-scaling-patterns" class="section-heading"><a href="#23-scaling-patterns" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">23. Scaling Patterns üìà</span></h3><p><strong>How to scale from 10 to 10,000 nodes</strong></p><p><strong>Contents</strong>:</p><ul><li>Topology evolution (full mesh ‚Üí k-regular ‚Üí hierarchical)</li><li>Region sharding</li><li>DHT bucket optimization</li><li>SWIM tuning for large networks</li><li>Gateway scaling (horizontal)</li><li>Database scaling (if persistence layer added)</li><li>Cost analysis at scale</li></ul><hr class="thin"/><h3 id="24-protocol-evolution" class="section-heading"><a href="#24-protocol-evolution" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">24. Protocol Evolution üî¨</span></h3><p><strong>Versioning and backward compatibility</strong></p><p><strong>Contents</strong>:</p><ul><li>Protocol version negotiation</li><li>Backward compatibility guarantees</li><li>Deprecation policy</li><li>Feature flags</li><li>Upgrade paths (rolling upgrades)</li><li>Breaking changes process</li></ul><hr class="thin"/><h3 id="25-mobile-and-browser-support" class="section-heading"><a href="#25-mobile-and-browser-support" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">25. Mobile and Browser Support üì±</span></h3><p><strong>Extending Macula to constrained environments</strong></p><p><strong>Contents</strong>:</p><ul><li>WebAssembly BEAM (lumen, AtomVM)</li><li>Browser WebTransport (QUIC in browsers)</li><li>React Native integration</li><li>Mobile battery optimization</li><li>Offline-first patterns</li><li>Connection resumption on network change</li></ul><hr class="thin"/><h3 id="26-plugin-architecture" class="section-heading"><a href="#26-plugin-architecture" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">26. Plugin Architecture üîå</span></h3><p><strong>Extend Macula with custom behaviors</strong></p><p><strong>Contents</strong>:</p><ul><li>Hook system for message interception</li><li>Custom discovery plugins (Consul, etcd)</li><li>Custom transport plugins (WebRTC, Bluetooth)</li><li>Custom routing strategies</li><li>Custom serialization formats</li><li>Plugin development guide</li></ul><hr class="thin"/><h3 id="27-cost-analysis" class="section-heading"><a href="#27-cost-analysis" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">27. Cost Analysis üí∞</span></h3><p><strong>TCO comparison vs alternatives</strong></p><p><strong>Contents</strong>:</p><ul><li>Infrastructure costs (vs cloud load balancers)</li><li>Bandwidth costs (UDP vs TCP, compression)</li><li>Operational costs (automation, monitoring)</li><li>Development costs (time to market)</li><li>Licensing costs (vs commercial solutions)</li><li>ROI calculator</li></ul><hr class="thin"/><h3 id="28-regulatory-compliance" class="section-heading"><a href="#28-regulatory-compliance" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">28. Regulatory Compliance üìú</span></h3><p><strong>GDPR, HIPAA, SOC2 considerations</strong></p><p><strong>Contents</strong>:</p><ul><li>Data residency (realm isolation for regions)</li><li>Right to be forgotten (message expiry)</li><li>Audit logging requirements</li><li>Encryption at rest/in transit</li><li>Access controls</li><li>Compliance checklists</li></ul><hr class="thin"/><h3 id="29-interoperability" class="section-heading"><a href="#29-interoperability" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">29. Interoperability üîó</span></h3><p><strong>Connect Macula to other systems</strong></p><p><strong>Contents</strong>:</p><ul><li>WAMP compatibility layer (adapter)</li><li>gRPC bridge</li><li>REST/GraphQL gateway</li><li>MQTT bridge (for IoT)</li><li>Kafka/RabbitMQ connectors</li><li>Database change data capture (CDC)</li></ul><hr class="thin"/><h3 id="30-case-studies" class="section-heading"><a href="#30-case-studies" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">30. Case Studies üìö</span></h3><p><strong>Real-world deployments (when available)</strong></p><p><strong>Contents</strong>:</p><ul><li>Example Platform energy trading platform</li><li>Industrial IoT deployment</li><li>Multi-tenant SaaS platform</li><li>Gaming backend</li><li>Financial data mesh</li><li>Lessons learned, metrics, testimonials</li></ul><hr class="thin"/><h2 id="contributing-to-documentation" class="section-heading"><a href="#contributing-to-documentation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Contributing to Documentation</span></h2><p>Documentation is as important as code! To contribute:</p><ol><li><strong>Choose a TODO document</strong> from the status table above</li><li><strong>Follow the template</strong> provided in the document outline</li><li><strong>Include code examples</strong> (working, tested code)</li><li><strong>Add diagrams</strong> (ASCII art for version control friendliness)</li><li><strong>Get review</strong> from at least one core team member</li><li><strong>Update this index</strong> when document is complete</li></ol><p><strong>Documentation Standards</strong>:</p><ul><li>Use Markdown (.md)</li><li>ASCII diagrams (box drawing characters: ‚îå‚îÄ‚îê‚îÇ‚îî‚îò)</li><li>Code examples must be syntactically correct</li><li>Include both Erlang and Elixir examples where applicable</li><li>Cross-reference related documents</li><li>Keep language clear and concise (avoid jargon, or define it)</li></ul><hr class="thin"/><h2 id="license" class="section-heading"><a href="#license" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">License</span></h2><p>[To be determined - likely Apache 2.0 or MIT]</p><hr class="thin"/><h2 id="contact-and-community" class="section-heading"><a href="#contact-and-community" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Contact and Community</span></h2><ul><li><strong>GitHub</strong>: <a href="https://github.com/macula-io/macula">macula-io/macula</a> ‚ö†Ô∏è TODO</li><li><strong>Discord</strong>: <a href="https://discord.gg/macula">Join our Discord</a> ‚ö†Ô∏è TODO</li><li><strong>Mailing List</strong>: macula-dev@googlegroups.com ‚ö†Ô∏è TODO</li><li><strong>Twitter</strong>: <a href="https://twitter.com/MaculaMesh">@MaculaMesh</a> ‚ö†Ô∏è TODO</li></ul><hr class="thin"/><p><strong>Last Updated</strong>: 2025-01-08
<strong>Maintainers</strong>: Macula Core Team
<strong>Status</strong>: Living Document (updated as project evolves)</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="macula_project_structure.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ‚Üê Previous Page
        </span>
        <span class="title">
Project Structure
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="macula_http3_mesh_quick_start.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page ‚Üí
        </span>
        <span class="title">
Quick Start
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/macula/0.7.13" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/macula/0.7.13">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/macula/0.7.13/show/architecture/macula_http3_mesh_root.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="macula.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
