%% Macula Bootstrap Mode Configuration
%% Purpose: Well-known DHT entry point for peer discovery
%%
%% Bootstrap nodes provide:
%% - DHT bootstrap and peer discovery
%% - Service registry (advertised RPC endpoints)
%% - Health monitoring
%%
%% Bootstrap nodes do NOT:
%% - Relay messages (that's gateway mode)
%% - Handle business logic (that's edge mode)

[
    {macula, [
        %% Deployment mode
        {mode, bootstrap},

        %% Gateway disabled (bootstrap-only)
        {start_gateway, false},

        %% Realm for this bootstrap node
        {realm, <<"macula.global">>},

        %% Bootstrap-specific configuration
        {bootstrap_health_interval, 30000},  % Health check every 30s

        %% DHT configuration
        {dht_k, 20},        % Kademlia K parameter (bucket size)
        {dht_alpha, 3},     % Concurrent DHT queries

        %% Node ID (optional - will be generated if not provided)
        %% {node_id, <<0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1>>}
    ]},

    {kernel, [
        {logger_level, info},
        {logger, [
            {handler, default, logger_std_h, #{
                formatter => {logger_formatter, #{
                    single_line => true,
                    template => [time, " [", level, "] ", msg, "\n"]
                }}
            }}
        ]}
    ]},

    {sasl, [
        {sasl_error_logger, false}
    ]}
].
